<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../static/styles.css">
    <title>Diary</title>
</head>
<body>
    <div class="header">
        <p>Welcome {{ username }}!</p>
        <form action="/logout" method="GET">
            <button class="logout" type="submit">Logout</button>
        </form>
    </div>
    <div class="container">
        <h1>Your Diary</h1>
        <form method="POST" action="/diary">
            <textarea name="entry" placeholder="Write your diary entry here..." required></textarea><br>
            <button type="submit">Add</button>
        </form>
        <br><br>
        <table border="0" width="100%">
            <tr>
                <th>Timestamp</th>
                <th>Diary Entry</th>
                <th>Actions</th>
            </tr>
            {% for id, entry, timestamp in diary_entries %}
            <tr>
                <td>{{ timestamp }}</td>
                <td>{{ entry }}</td>
                <td>
                    <form action="/delete_entry/{{ id }}" method="POST" style="display:inline;">
                        <button type="submit" style="background-color:red; color:white; border:none; padding:5px 10px; cursor:pointer;">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </table>

    </div>
</body>
</html>
